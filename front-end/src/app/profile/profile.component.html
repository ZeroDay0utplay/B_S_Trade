<div class="profile">
    <app-nav-bar [logedIn]="true"></app-nav-bar>
    <div id="avatar-container">
        <!-- && photo !== '' ? photo : '../../assets/images/profile_default.png' -->
        <img id="avatar-photo" #avatarImg class="avatar-photo"
        [src]="(photo && photo !== '') ? photo : '../../assets/images/profile_default.png'" (mouseenter)="showAddPhotoOverlay=true"
        alt="avatar photo">
    
        <div *ngIf="showAddPhotoOverlay" id="add-photo-overlay" class="avatar-photo"
            (mouseleave)="showAddPhotoOverlay=false">
    
            <button id="add-avatar-photo-button" class="center-positon-absolute" mat-icon-button (click)="openFileInput(fileInput)">
          <mat-icon>add_a_photo</mat-icon>
        </button>
    
            <!-- <mat-icon id="remove-avatar-photo-button" *ngIf="photo && photo !== ''" (click)="removePhoto()"
                matTooltip="remove this photo">close</mat-icon> -->
        </div>
    
        <!-- Input file -->
        <input #fileInput type="file" (change)="addPhoto($event)" name="avatar" accept="image/png, image/jpeg"
          style="display:none;">
        <h1 class="welcome">Welcome, {{ username }}</h1>
    </div>
</div>

<!-- ALERTS -->

<div *ngIf="alert_danger" class="alert alert-danger" role="alert" style="margin-bottom: 30px;">
  {{ alert_message_danger }}
</div>

<div *ngIf="alert_success" class="alert alert-success alert-dismissible fade show" role="alert">
  <h4 class="alert-heading">{{ alert_message_success }}</h4>
  <button onclick="location.href='/login'" type="button" class="btn btn-success" style="margin-left: 40%; background-color: rgb(11, 104, 4);">Proceed</button>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
  </button>
</div>

<div *ngIf="alert_warning" class="alert alert-warning" role="alert" style="margin-bottom: 30px;">
  {{ alert_message_warning }}
</div>


<form [formGroup]="updateForm" (ngSubmit)="onSubmit()" style="display: flex; flex-direction: column; align-items: center;">
  <h2 style="color: #C8AF1D;">
    <img src="../../assets/images/star.png" class="label-icon">
    Change Full Name
  </h2>
  <mat-form-field appearance="outline">
    <mat-label>New Full Name</mat-label>
    <input matInput formControlName="full_name">
  </mat-form-field>

  <h2 style="color: #C8AF1D; margin-left: -40px;">
    <img src="../../assets/images/star.png" class="label-icon">
    Change E-mail
  </h2>
  <mat-form-field appearance="outline">
      <mat-label>Reset Email</mat-label>
      <input matInput formControlName="email">
  </mat-form-field>

  <h2 style="color: #C8AF1D; margin-left: -60px;">
    <img src="../../assets/images/star.png" class="label-icon">
    Change Job
  </h2>
  <mat-form-field appearance="outline">
      <mat-label>Change Job</mat-label>
      <input matInput formControlName="job">
  </mat-form-field>

  <h2 style="color: #C8AF1D; margin-left: -100px;">
    <img src="../../assets/images/star.png" class="label-icon">
    Add Bio
  </h2>
  <mat-form-field appearance="outline" style="height: 150px;">
    <mat-label>Tell us about yourself</mat-label>
    <input matInput formControlName="bio">
  </mat-form-field>

  <button class="sub-btn" mat-raised-button type="submit">Submit</button>
</form>